(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23554820","chunk-1c4c4590"],{1446:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"container"},[t.isLoading?n("section",{staticStyle:{margin:"50vh 0 0 25vw"}},[n("van-loading",{attrs:{size:"24px"}})],1):n("section",[n("van-sticky",[n("section",{staticClass:"header"},[n("section",{staticClass:"fictionInfo"},[n("div",{staticClass:"fictionName"},[t._v(t._s(t.bookTitle))]),n("div",{staticClass:"count"},[t._v("总章节数："+t._s(t.chapterLen))])]),n("section",{staticClass:"sort"},[n("van-icon",{attrs:{name:"bar-chart-o",size:"20px",color:"#fff"},on:{click:t.reverseBook}})],1)])]),n("van-list",{attrs:{finished:t.listDownFinished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.listDownLoading,callback:function(e){t.listDownLoading=e},expression:"listDownLoading"}},t._l(t.showingList,(function(e,i){return n("van-cell",{key:i,class:[t.curReadTitle==e.title?"highlight":""],attrs:{title:e.title},on:{click:function(n){return t.toExactChapter(e)}}})})),1),n("div")],1)])},r=[],o=(n("a4d3"),n("99af"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("96cf"),n("1da1")),a=n("2909"),s=n("ade3"),c=n("a20f"),l=n("dafe"),u=n("4aa2");function h(t){return"[object String]"===Object.prototype.toString.call(t)}var d=Object(u["a"])((function(t){return h(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()})),g=d,p=n("2f62");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={props:{jumpChapter:{type:Function,default:function(){console.log("should be called!")}},isSidebar:{type:Boolean,default:!1}},data:function(){return{chapterList:[],showingList:[],showFlag:"positive",isLoading:!1,listDownLoading:!1,listDownFinished:!1,curReadTitle:"",pageIndex:0,bookInfo:{}}},computed:b({},Object(p["c"])(["currentView","collectedFiction"]),{negativePagingChapter:function(){return Object(l["c"])(g(this.chapterList),50)},positivePagingChapter:function(){return Object(l["c"])(this.chapterList,50)},chapterLen:function(){return this.chapterList.length},bookTitle:function(){return this.$route.params.title},_chapterList:function(){var t=this.$route.params.chapterList||this.currentView.chapterList;return t}}),methods:b({},Object(p["b"])(["setCurrentView"]),{toExactChapter:function(t){this.curReadTitle=t.title,this.isSidebar?this.$emit("updateContent",t.href):(this.setCurrentView(b({},this.currentView,{recentRead:t})),this.$router.push({name:"fiction_content"}))},onLoad:function(){this.listDownLoading=!0;var t="positive"===this.showFlag?this.positivePagingChapter:this.negativePagingChapter;this.showingList=[].concat(Object(a["a"])(this.showingList),Object(a["a"])(t[this.pageIndex++])),this.listDownLoading=!1,this.pageIndex>t.length&&(this.listDownFinished=!0)},initShowing:function(){this.showingList=[],this.pageIndex=0,this.onLoad()},reverseBook:function(){this.showFlag="negative"===this.showFlag?"positive":"negative",this.initShowing()},getBookChapter:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.t0=this._chapterList,t.t0){t.next=6;break}return t.next=5,Object(c["a"])(this.$route.query.chapterHref);case 5:t.t0=t.sent;case 6:e=t.t0,this.chapterList=e,this.isLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),mounted:function(){this.getBookChapter()}},w=v,y=(n("2b32"),n("2877")),m=Object(y["a"])(w,i,r,!1,null,"bbaa1552",null);e["default"]=m.exports},"2b32":function(t,e,n){"use strict";var i=n("feb6"),r=n.n(i);r.a},"3d90":function(t,e,n){},"4f4d":function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"857a":function(t,e,n){var i=n("1d80"),r=/"/g;t.exports=function(t,e,n,o){var a=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},9911:function(t,e,n){"use strict";var i=n("23e7"),r=n("857a"),o=n("eae9");i({target:"String",proto:!0,forced:o("link")},{link:function(t){return r(this,"a","href",t)}})},a20f:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var i=n("64f3"),r=function(){return Object(i["a"])({url:"fiction/recommand",method:"get"})},o=function(t,e){return Object(i["a"])({url:"fiction/search",method:"get",params:{keyword:t,accurateSearch:e}})},a=function(t){return Object(i["a"])({url:"fiction/bookHome",method:"get",params:{url:t}})},s=function(t){return Object(i["a"])({url:"fiction/getChapterList",method:"get",params:{url:t}})},c=function(t){return Object(i["a"])({url:"fiction/getContent",method:"get",params:{url:t}})}},b3e5:function(t,e,n){"use strict";var i=n("3d90"),r=n.n(i);r.a},dd53:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{ref:"container",staticClass:"bookContainer",style:Object.assign({},t.pageControl,{fontSize:t.pageControl.fontSize+"px"})},[n("van-row",{class:["navguideContainer","slide-top",t.isHeaderActive?"active":""]},[n("van-nav-bar",{attrs:{title:t.bookTitle,"left-text":"返回","left-arrow":""},on:{"click-left":t.toHome}},[n("van-row",{attrs:{slot:"right",type:"flex",justify:"space-between"},slot:"right"},[n("van-col",{attrs:{span:"5 "}},[n("van-icon",{attrs:{name:"setting-o",size:"20"},on:{click:t.showControlBar}})],1),n("van-col",[n("van-icon",{attrs:{name:"label-o",span:"5",size:"20"},on:{click:t.showChapterList}})],1),n("van-col",{attrs:{span:"5"},on:{click:t.changeCollect}},[t.currentView.isCollected?n("van-icon",{attrs:{name:"star",size:"20"}}):n("van-icon",{attrs:{name:"star-o",size:"20"}})],1)],1)],1)],1),n("section",{staticClass:"calloutBox",on:{click:t.showHeader}}),t._l(t.boxList,(function(e,i){return n("section",{key:i,style:{fontFamily:t.pageControl.fontFamily,padding:"0 1vw"}},[n("section",{staticStyle:{height:"40px",overflow:"hidden",padding:"10px"}},[n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 16px"}},[t._v(" "+t._s(t.currentView.recentRead.title)+" ")])],1),n("article",{domProps:{innerHTML:t._s(e)}})])})),n("van-popup",{style:{height:"30%"},attrs:{position:"bottom",round:""},model:{value:t.isControlBarActive,callback:function(e){t.isControlBarActive=e},expression:"isControlBarActive"}},[n("section",[n("van-row",{attrs:{type:"flex",justify:"space-between"}},[n("van-col",{attrs:{span:"8"}},[n("van-button",{staticStyle:{width:"100%"},on:{click:function(e){return t.changeFontSize("decrease")}}},[t._v("-")])],1),n("van-col",{staticStyle:{"align-self":"center","text-align":"center"}},[t._v("字体大小："+t._s(t.pageControl.fontSize))]),n("van-col",{attrs:{span:"8"}},[n("van-button",{staticStyle:{width:"100%"},on:{click:function(e){return t.changeFontSize("add")}}},[t._v("+")])],1)],1),n("div",{staticClass:"confBlock"}),n("section",{staticStyle:{display:"flex","flex-wrap":"no-wrap",padding:"10px",overflow:"hidden"}},[n("div",{staticStyle:{"align-self":"center","text-align":"center"}},[t._v("背景：")]),n("div",{staticStyle:{display:"flex","flex-wrap":"no-wrap"}},t._l(t.styleControl.backgroundStyle,(function(e){return n("section",{key:e.backgroundColor,staticStyle:{padding:"0 10px"}},[n("div",{staticClass:"singleColor",style:{backgroundColor:e.backgroundColor},on:{click:function(n){return t.changeBgStyle(e.backgroundColor)}}})])})),0)]),n("div",{staticClass:"confBlock"}),n("section",{staticStyle:{"box-sizing":"border-box",padding:"10px"}},[n("van-row",{staticStyle:{display:"flex","align-items":"center"},attrs:{type:"flex"}},[n("van-col",{attrs:{span:"6"}},[t._v("字体设置：")]),n("van-col",{attrs:{span:"6"}},[n("van-button",{on:{click:function(e){return t.changeFont("")}}},[t._v("默认")])],1),n("van-col",{staticClass:"gb2312",attrs:{span:"6"}},[n("van-button",{on:{click:function(e){return t.changeFont("楷体")}}},[t._v("楷体")])],1)],1)],1)],1)]),n("van-popup",{style:{width:"70%",height:"100%"},attrs:{position:"right"},model:{value:t.isChapterBarActive,callback:function(e){t.isChapterBarActive=e},expression:"isChapterBarActive"}},[n("ChapterList",{attrs:{isSidebar:!0},on:{updateContent:t.jumpChapter}})],1)],2)},r=[],o=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("9911"),n("159b"),n("96cf"),n("1da1")),a=n("ade3"),s=n("a20f"),c=n("2f62"),l=(n("4f4d"),n("529a")),u=n("0278"),h=n("1446");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={components:{ChapterList:h["default"]},data:function(){return{boxHeight:"",isFetching:!1,boxList:[],startChapterIndex:0,isHeaderActive:!1,isControlBarActive:!1,isChapterBarActive:!1,isCollected:!1,styleControl:{backgroundStyle:[{backgroundColor:"#dff9fb ",color:"rgb(45, 52, 54)"},{backgroundColor:"rgb(199, 236, 238)",color:"rgb(45, 52, 54)"},{backgroundColor:"rgb(149, 175, 192)",color:"rgb(45, 52, 54)"},{backgroundColor:"rgb(30, 39, 46)",color:"rgb(209, 216, 224)"}],fontSize:16,localbrightness:75}}},computed:g({},Object(c["c"])(["currentView","pageControl"]),{bookTitle:function(){return this.$route.query.title}}),methods:g({},Object(c["b"])(["setCurrentView","updateCollected","deleteCollected","insertCollected","setPageControl"]),{changeFont:function(t){this.setPageControl(g({},this.pageControl,{fontFamily:t}))},changeFontSize:function(t){"add"==t?this.setPageControl(g({},this.pageControl,{fontSize:this.pageControl.fontSize+1})):this.setPageControl(g({},this.pageControl,{fontSize:this.pageControl.fontSize-1}))},changeBgStyle:function(t){var e=Object(l["a"])(Object(u["a"])("backgroundColor",t))(this.styleControl.backgroundStyle);this.setPageControl(g({},this.pageControl,{},e))},listenScroll:function(){if(window.scrollY+window.screen.height>document.body.clientHeight-.7*window.screen.height&&!this.isFetching)try{this.getBookContent(this.$route.query.link)}catch(t){this.isFetching=!1}},showHeader:function(){this.isHeaderActive=!this.isHeaderActive},showControlBar:function(){this.isControlBarActive=!this.isControlBarActive},showChapterList:function(){this.isChapterBarActive=!this.isChapterBarActive},changeCollect:function(){this.setCurrentView(g({},this.currentView,{isCollected:!this.currentView.isCollected})),this.currentView.isCollected?this.insertCollected(this.currentView):this.deleteCollected(this.currentView.title)},toHome:function(){this.$router.push({name:"home"})},getBookContent:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isFetching=!0,t.next=3,Object(s["b"])(e);case 3:n=t.sent,this.isFetching=!1,this.setCurrentView(g({},this.currentView,{recentRead:{href:e,title:n.curTitle}})),this.currentView.isCollected&&this.updateCollected(this.currentView),this.boxList.push(n.text),this.$route.query.link=n.next,console.log(this.currentView);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),jumpChapter:function(t){console.log(t),this.boxList=[],this.getBookContent(t)}}),mounted:function(){document.addEventListener("scroll",this.listenScroll),this.$route.query.link=this.currentView.recentRead.href,this.getBookContent(this.$route.query.link)},beforeDestroy:function(){document.removeEventListener("scroll",this.listenScroll)}},f=p,b=(n("b3e5"),n("2877")),v=Object(b["a"])(f,i,r,!1,null,"ee78fa90",null);e["default"]=v.exports},eae9:function(t,e,n){var i=n("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},feb6:function(t,e,n){}}]);