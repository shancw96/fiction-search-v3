(function(e){function t(t){for(var o,c,a=t[0],s=t[1],l=t[2],u=0,f=[];u<a.length;u++)c=a[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},c={app:0},i={app:0},r=[];function a(e){return s.p+"static/js/"+({}[e]||e)+"."+{"chunk-2d0b384d":"a43a515c","chunk-4e46372a":"6cd97221","chunk-27479fe0":"c4d7666a","chunk-366a2982":"7b0b6f69","chunk-85c0fd98":"252fd873","chunk-f8fbc1dc":"573f03d9"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-27479fe0":1,"chunk-366a2982":1,"chunk-85c0fd98":1,"chunk-f8fbc1dc":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var o="static/css/"+({}[e]||e)+"."+{"chunk-2d0b384d":"31d6cfe0","chunk-4e46372a":"31d6cfe0","chunk-27479fe0":"4216ffad","chunk-366a2982":"3f65a680","chunk-85c0fd98":"452acbf3","chunk-f8fbc1dc":"c54e2052"}[e]+".css",i=s.p+o,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var l=r[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return t()}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){l=f[a],u=l.getAttribute("data-href");if(u===o||u===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete c[e],d.parentNode.removeChild(d),n(r)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){c[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(e);var f=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",f.name="ChunkLoadError",f.type=o,f.request=c,n[1](f)}i[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0946":function(e,t,n){"use strict";var o=n("c14e"),c=n.n(o);c.a},1793:function(e,t){},"1f68":function(e,t,n){},"267b":function(e,t,n){"use strict";n("a9e3");var o=n("53ca"),c=n("dafe"),i={set:function(e,t,n,c){var i={dataType:Object(o["a"])(t),value:t,type:n,datatime:c||(new Date).getTime()};n?window.sessionStorage.setItem(e,JSON.stringify(i)):window.localStorage.setItem(e,JSON.stringify(i))},get:function(e,t){var n,o=window.localStorage.getItem(e)||{};if(Object(c["b"])(o)&&(o=window.sessionStorage.getItem(e)),Object(c["b"])(o))return t;switch(o=JSON.parse(o),o.dataType){case"string":n=o.value;break;case"number":n=Number(o.value);break;case"boolean":n=Boolean(o.value);break;case"object":n=o.value;break}return n},remove:function(e){window.sessionStorage.removeItem(e),window.localStorage.removeItem(e)},clear:function(){window.sessionStorage.clear(),window.localStorage.clear()}};t["a"]=i},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=n("2877"),a={},s=Object(r["a"])(a,c,i,!1,null,null,null),l=s.exports,u=n("9483");Object(u["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var f=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticStyle:{"min-height":"100vh"}},[e.hasCollection?n("section",{staticClass:"homeContainer"},[n("section",{staticClass:"recentRead"},[n("van-row",{staticStyle:{margin:"0 0 5vh 0"},attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticClass:"font18 bold",staticStyle:{color:"rgb(155, 155, 155)"},attrs:{span:"16"}},[e._v("让阅读成为一种习惯")]),n("van-col",{attrs:{span:"6"}},[n("van-row",{attrs:{type:"flex",justify:"space-around"}},[n("van-col",[n("van-icon",{attrs:{name:"search",size:"20"},on:{click:e.toSearch}})],1),n("van-col",[n("van-icon",{attrs:{name:"apps-o",size:"20"}})],1)],1)],1)],1),n("RecentRead",{attrs:{recentReadBook:e.recentReadBook},on:{click:e.readBook}}),n("InfoBar",{staticClass:"infoList"})],1),n("section",{staticClass:"collection"},[n("transition-group",{attrs:{name:"list-complete"}},e._l(e.collectedFiction,(function(t,o){return n("div",{directives:[{name:"show",rawName:"v-show",value:o>0,expression:"index > 0"}],key:t.img,class:["fictionInnerContainer","list-complete-item"]},[n("Book",{attrs:{curBookInfo:t},nativeOn:{click:function(n){return e.readBook(t)}}})],1)})),0)],1)]):n("FictionEmpty",{staticClass:"bgWhite"})],1)},p=[],h=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{style:{width:e.imgWidth,height:e.imgHeight}},[n("section",{staticClass:"myfictionWrapper",class:[e.isEditingBook?"shaking":""]},[n("div",{class:["fiction-img",e.isReadingBook?"zoom-book":""],on:{click:e.animateBook}},[n("van-image",{attrs:{width:"100%",height:"100%",src:e.curBookInfo.img?e.curBookInfo.img:"https://i.loli.net/2019/12/29/Kjel2kduwQArxBR.jpg"}})],1),e.isEditingBook?n("div",{staticClass:"deleteIcon"},[n("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"close-circle"}})],1):e._e(),e.hasTitle?n("div",{staticClass:"myFictionTitle"},[e._v(e._s(e.curBookInfo.title))]):e._e()])])},b=[],v={props:{imgWidth:{type:String,default:"90px"},imgHeight:{type:String,default:"120px"},hasTitle:{type:Boolean,default:!0},curBookInfo:{type:Object,default:function(){return{}}},isEditingBook:{type:Boolean,defalut:!1}},data:function(){return{isReadingBook:!1}},methods:{animateBook:function(){var e=this;this.isReadingBook=!0;var t=setTimeout((function(){e.isReadingBook=!1,clearTimeout(t)}),1e3)}}},g=v,O=(n("8470"),Object(r["a"])(g,m,b,!1,null,"7e6bd0f6",null)),_=O.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fiction-empty"},[e._m(0),n("section",{staticStyle:{"text-align":"center","margin-top":"100px"}},[n("van-button",{staticStyle:{"border-radius":"5px"},attrs:{type:"primary"},on:{click:e.jumpToSearch}},[e._v("立即搜索 !")])],1)])},y=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"empty-img"},[o("img",{attrs:{src:n("fc5a")}})])}],k={methods:{jumpToSearch:function(){this.$router.push({name:"fiction_search"})}}},w=k,E=(n("d8b9"),Object(r["a"])(w,C,y,!1,null,"4c671437",null)),T=E.exports,S=(n("8bb2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-row",{attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticStyle:{display:"flex",justifyContent:"center","align-items":"center"},attrs:{span:"8"}},[n("Book",{attrs:{imgHeight:"135px",imgWidth:"105px",curBookInfo:e.recentReadBook,hasTitle:!1},nativeOn:{click:function(t){return e.toBookContent(t)}}})],1),n("van-col",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-around",padding:"10px 0"},attrs:{span:"14"}},[n("van-row",{staticClass:"ellipsis font18"},[e._v(e._s(e.recentReadBook.title))]),n("van-row",{staticClass:"ellipsis font14"},[e._v("作者："+e._s(e.recentReadBook.author))]),n("van-row",{staticClass:"ellipsis font12"},[e._v("进度："+e._s(e.recentReadBook.recentRead.title))]),n("van-row",{staticClass:"textElliplise2 font12 fontGrey "},[e._v(e._s(e.recentReadBook.desc))])],1)],1)}),j=[],I={props:{recentReadBook:{type:Object,default:function(){return{}}}},components:{Book:_},methods:{toBookContent:function(){this.$emit("click",this.recentReadBook)}}},F=I,L=Object(r["a"])(F,S,j,!1,null,null,null),B=L.exports,R=n("63ad"),N=n("2f62");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(h["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={components:{FictionEmpty:T,RecentRead:B,Book:_,InfoBar:R["default"]},data:function(){return{active:0}},computed:x({},Object(N["c"])(["collectedFiction"]),{hasCollection:function(){return!!this.collectedFiction&&!!this.collectedFiction.length},recentReadBook:function(){return this.collectedFiction[0]}}),methods:x({},Object(N["b"])(["sortCollected","setCurrentView"]),{readBook:function(e){var t=this;this.sortCollected(e),this.setCurrentView(x({},e,{isCollected:!0}));var n=setTimeout((function(){t.$router.push({name:"fiction_content",query:{link:e.recentRead.href,title:e.title}}),clearTimeout(n)}),400)},toSearch:function(){this.$router.push({name:"fiction_search"})}}),mounted:function(){console.log(this.collectedFiction)}},V=A,D=(n("0946"),Object(r["a"])(V,d,p,!1,null,"ec8c6080",null)),$=D.exports;o["a"].use(f["a"]);var H=[{path:"/",redirect:{name:"home"}},{path:"/v2_home",name:"home",component:$},{path:"/fiction",component:function(){return n.e("chunk-2d0b384d").then(n.bind(null,"295e"))},children:[{path:"search",name:"fiction_search",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-85c0fd98")]).then(n.bind(null,"5bb8"))}},{path:"home",name:"fiction_home",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-366a2982")]).then(n.bind(null,"d89b"))}},{path:"chapterList",name:"fiction_chapterList",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-f8fbc1dc")]).then(n.bind(null,"1446"))}},{path:"content",name:"fiction_content",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-27479fe0")]).then(n.bind(null,"dd53"))}}]}],W=new f["a"]({routes:H}),M=W,U={collectedFiction:function(e){return e.fiction.collectedFiction},currentView:function(e){return e.fiction.currentView},hotSearchList:function(e){return e.fiction.hotSearchList},pageControl:function(e){return e.page.control}},z=U,J=(n("99af"),n("d81d"),n("fb6a"),n("2909")),q=n("267b"),G=n("dafe"),K=n("03ed"),Q=n("0278"),X=n("529a"),Y=n("d399");function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(h["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={state:{collectedFiction:q["a"].get("fiction_collected"),hotSearchList:q["a"].get("fiction_hotSearch"),currentView:q["a"].get("fiction_currentView")},mutations:{SET_FICTION_HOT_SEARCH:function(e,t){console.log("SET_FICTION_HOT_SEARCH"),e.hotSearchList=t,q["a"].set("fiction_hotSearch",e.hotSearchList)},DELETE_FICTION_COLLECT:function(e,t){Y["a"].success("删除小说成功"),e.collectedFiction=e.collectedFiction.filter((function(e){return e.title!==t})),q["a"].set("fiction_collected",e.collectedFiction)},INSERT_FICTION_COLLECT:function(e,t){console.log("INSERT_FICTION_COLLECT"),Object(G["b"])(e.collectedFiction)&&(e.collectedFiction=[]);var n=e.collectedFiction.every((function(e){return e.title!==t.title}));if(!n)return Y["a"].fail("书籍已收藏，请勿重复添加"),!1;e.collectedFiction.push(t),q["a"].set("fiction_collected",e.collectedFiction),Y["a"].success("加入书架成功")},UPDATE_FICTION_COLLECT:function(e,t){console.log("---UPDATE_FICTION_COLLECT---"),Object(G["b"])(e.collectedFiction)&&(e.collectedFiction=[]),e.collectedFiction=e.collectedFiction.map((function(e){return e.title==t.title&&(e=t),e})),q["a"].set("fiction_collected",e.collectedFiction)},SORT_FICTION_COLLECT:function(e,t){console.log("---SORT_FICTION_COLLECT---");var n=Object(K["a"])(Object(Q["a"])("title",t.title))(e.collectedFiction);console.log(n),e.collectedFiction=[].concat(Object(J["a"])(e.collectedFiction.slice(n,n+1)),Object(J["a"])(e.collectedFiction.slice(0,n)),Object(J["a"])(e.collectedFiction.slice(n+1))),q["a"].set("fiction_collected",ee({},e.collectedFiction,{isCollected:!0}))},SET_FICTION_VIEW:function(e,t){console.log("SET_FICTION_VIEW"),e.currentView=t,q["a"].set("fiction_currentView",e.currentView,"session")},SET_CURRENT_VIEW_FROM_COLLECTED:function(e,t){console.log("SET_CURRENT_VIEW_FROM_COLLECTED"),e.currentView=Object(X["a"])(Object(Q["a"])("title",t))(e.collectedFiction),q["a"].set("fiction_currentView",e.currentView,"session")}},actions:{setFictionHotSearch:function(e,t){var n=e.commit;n("SET_FICTION_HOT_SEARCH",t)},resetCollected:function(e,t){var n=e.commit;n("RESET_FICTION_COLLECT",t)},deleteCollected:function(e,t){var n=e.commit;n("DELETE_FICTION_COLLECT",t)},insertCollected:function(e,t){var n=e.commit;n("INSERT_FICTION_COLLECT",t)},updateCollected:function(e,t){var n=e.commit;n("UPDATE_FICTION_COLLECT",t)},sortCollected:function(e,t){var n=e.commit;n("SORT_FICTION_COLLECT",t)},setCurrentViewFromCollected:function(e,t){var n=e.commit;n("SET_CURRENT_VIEW_FROM_COLLECTED",t)},setCurrentView:function(e,t){var n=e.commit;n("SET_FICTION_VIEW",t)}}},ne=te,oe={fontSize:16,backgroundColor:"#dff9fb ",color:"rgb(45, 52, 54)",fontFamily:""},ce={state:{control:q["a"].get("pageControl",oe)},mutations:{SET_PAGE_CONTROL:function(e,t){console.log("SET PAGE_CONTROL"),e.control=t,q["a"].set("pageControl",e.control)}},actions:{setPageControl:function(e,t){var n=e.commit;n("SET_PAGE_CONTROL",t)}}},ie=ce;o["a"].use(N["a"]);var re=new N["a"].Store({state:{},mutations:{},getters:z,modules:{fiction:ne,page:ie}}),ae=(n("1f68"),n("b970"));n("157a");o["a"].use(ae["a"]),o["a"].config.productionTip=!1,new o["a"]({router:M,store:re,render:function(e){return e(l)}}).$mount("#app")},"63ad":function(e,t,n){"use strict";var o=n("b7ea"),c=n("e44d"),i=(n("fea1"),n("2877")),r=Object(i["a"])(c["default"],o["a"],o["b"],!1,null,"2747a300",null);t["default"]=r.exports},"68db":function(e,t,n){},8470:function(e,t,n){"use strict";var o=n("fa04"),c=n.n(o);c.a},"8bb2":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-row",{staticClass:"pd15 roundCorner row"},[e._t("default")],2)},c=[],i=n("2877"),r={},a=Object(i["a"])(r,o,c,!1,null,null,null);t["a"]=a.exports},b7ea:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("section",{staticClass:"infoBar"},[n("van-icon",{staticClass:"info-item",staticStyle:{position:"absolute",left:"-45%"},attrs:{name:"volume",color:"green"}}),n("section",{staticClass:"item-container"},[n("transition-group",{attrs:{name:"bounce"}},[n("div",{staticClass:"info-item"},[e._v("111")])])],1),n("van-icon",{staticStyle:{opacity:"0"},attrs:{name:"arrow"}})],1)])},c=[];n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}))},c14e:function(e,t,n){},d8b9:function(e,t,n){"use strict";var o=n("dfcc"),c=n.n(o);c.a},dafe:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r}));n("99af"),n("fb6a"),n("ac1f"),n("466d");var o=n("2909");function c(e){if(e instanceof Array){if(0===e.length)return!0}else{if(!(e instanceof Object))return null==e||void 0===e||""===e;if("{}"===JSON.stringify(e))return!0}return!1}var i=function(e){return e.match(/(w+)(\.)([a-z]+)(\.)(com)/)[3]},r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n>=t.length?[t]:[t.slice(0,n)].concat(Object(o["a"])(e(t.slice(n),n)))}},dfcc:function(e,t,n){},e44d:function(e,t,n){"use strict";var o=n("1793"),c=n.n(o);t["default"]=c.a},fa04:function(e,t,n){},fc5a:function(e,t,n){e.exports=n.p+"static/img/book-empty.d23e86c7.jpg"},fea1:function(e,t,n){"use strict";var o=n("68db"),c=n.n(o);c.a}});