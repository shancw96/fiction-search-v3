(function(t){function e(e){for(var o,c,a=e[0],s=e[1],l=e[2],u=0,f=[];u<a.length;u++)c=a[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},c={app:0},i={app:0},r=[];function a(t){return s.p+"static/js/"+({}[t]||t)+"."+{"chunk-2d0b384d":"a43a515c","chunk-4e46372a":"6cd97221","chunk-13400d34":"17a556f2","chunk-366a2982":"7b0b6f69","chunk-85c0fd98":"252fd873","chunk-f36215b0":"5a9cb671"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-13400d34":1,"chunk-366a2982":1,"chunk-85c0fd98":1,"chunk-f36215b0":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise((function(e,n){for(var o="static/css/"+({}[t]||t)+"."+{"chunk-2d0b384d":"31d6cfe0","chunk-4e46372a":"31d6cfe0","chunk-13400d34":"bde9f37c","chunk-366a2982":"3f65a680","chunk-85c0fd98":"452acbf3","chunk-f36215b0":"e47a8fab"}[t]+".css",i=s.p+o,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var l=r[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return e()}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){l=f[a],u=l.getAttribute("data-href");if(u===o||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete c[t],d.parentNode.removeChild(d),n(r)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){c[t]=0})));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(t);var f=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+o+": "+c+")",f.name="ChunkLoadError",f.type=o,f.request=c,n[1](f)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0946":function(t,e,n){"use strict";var o=n("c14e"),c=n.n(o);c.a},"098c":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("section",{staticClass:"infoBar"},[n("van-icon",{staticClass:"info-item",staticStyle:{position:"absolute",left:"-45%"},attrs:{name:"volume",color:"green"}}),n("section",{staticClass:"item-container"},[n("transition-group",{attrs:{name:"bounce"}},[n("div",{staticClass:"info-item"},[t._v("111")])])],1),n("van-icon",{staticStyle:{opacity:"0"},attrs:{name:"arrow"}})],1)])},c=[];n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}))},1793:function(t,e){},"1f68":function(t,e,n){},"267b":function(t,e,n){"use strict";n("a9e3");var o=n("53ca"),c=n("dafe"),i={set:function(t,e,n,c){var i={dataType:Object(o["a"])(e),value:e,type:n,datatime:c||(new Date).getTime()};n?window.sessionStorage.setItem(t,JSON.stringify(i)):window.localStorage.setItem(t,JSON.stringify(i))},get:function(t,e){var n,o=window.localStorage.getItem(t)||{};if(Object(c["b"])(o)&&(o=window.sessionStorage.getItem(t)),Object(c["b"])(o))return e;switch(o=JSON.parse(o),o.dataType){case"string":n=o.value;break;case"number":n=Number(o.value);break;case"boolean":n=Boolean(o.value);break;case"object":n=o.value;break}return n},remove:function(t){window.sessionStorage.removeItem(t),window.localStorage.removeItem(t)},clear:function(){window.sessionStorage.clear(),window.localStorage.clear()}};e["a"]=i},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=n("2877"),a={},s=Object(r["a"])(a,c,i,!1,null,null,null),l=s.exports,u=n("9483");Object(u["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7");var f=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticStyle:{"min-height":"100vh"}},[t.hasCollection?n("section",{staticClass:"homeContainer"},[n("section",{staticClass:"recentRead"},[n("van-row",{staticStyle:{margin:"0 0 5vh 0"},attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticClass:"font18 bold",staticStyle:{color:"rgb(155, 155, 155)"},attrs:{span:"16"}},[t._v("让阅读成为一种习惯")]),n("van-col",{attrs:{span:"6"}},[n("van-row",{attrs:{type:"flex",justify:"space-around"}},[n("van-col",[n("van-icon",{attrs:{name:"search",size:"20"},on:{click:t.toSearch}})],1),n("van-col",[n("van-icon",{attrs:{name:"apps-o",size:"20"}})],1)],1)],1)],1),n("RecentRead",{attrs:{recentReadBook:t.recentReadBook},on:{click:t.readBook}}),n("InfoBar",{staticClass:"infoList"})],1),n("section",{staticClass:"collection"},[n("transition-group",{attrs:{name:"list-complete"}},t._l(t.collectedFiction,(function(e,o){return n("div",{directives:[{name:"show",rawName:"v-show",value:o>0,expression:"index > 0"}],key:e.img,class:["fictionInnerContainer","list-complete-item"]},[n("Book",{attrs:{curBookInfo:e},nativeOn:{click:function(n){return t.readBook(e)}}})],1)})),0)],1)]):n("FictionEmpty",{staticClass:"bgWhite"})],1)},p=[],h=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{style:{width:t.imgWidth,height:t.imgHeight}},[n("section",{staticClass:"myfictionWrapper",class:[t.isEditingBook?"shaking":""]},[n("div",{class:["fiction-img",t.isReadingBook?"zoom-book":""],on:{click:t.animateBook}},[n("van-image",{attrs:{width:"100%",height:"100%",src:t.curBookInfo.img?t.curBookInfo.img:"https://i.loli.net/2019/12/29/Kjel2kduwQArxBR.jpg"}})],1),t.isEditingBook?n("div",{staticClass:"deleteIcon"},[n("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"close-circle"}})],1):t._e(),t.hasTitle?n("div",{staticClass:"myFictionTitle"},[t._v(t._s(t.curBookInfo.title))]):t._e()])])},b=[],v={props:{imgWidth:{type:String,default:"90px"},imgHeight:{type:String,default:"120px"},hasTitle:{type:Boolean,default:!0},curBookInfo:{type:Object,default:function(){return{}}},isEditingBook:{type:Boolean,defalut:!1}},data:function(){return{isReadingBook:!1}},methods:{animateBook:function(){var t=this;this.isReadingBook=!0;var e=setTimeout((function(){t.isReadingBook=!1,clearTimeout(e)}),1e3)}}},g=v,O=(n("8470"),Object(r["a"])(g,m,b,!1,null,"7e6bd0f6",null)),_=O.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fiction-empty"},[t._m(0),n("section",{staticStyle:{"text-align":"center","margin-top":"100px"}},[n("van-button",{staticStyle:{"border-radius":"5px"},attrs:{type:"primary"},on:{click:t.jumpToSearch}},[t._v("立即搜索 !")])],1)])},y=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"empty-img"},[o("img",{attrs:{src:n("fc5a")}})])}],k={methods:{jumpToSearch:function(){this.$router.push({name:"fiction_search"})}}},w=k,E=(n("d8b9"),Object(r["a"])(w,C,y,!1,null,"4c671437",null)),T=E.exports,S=(n("8bb2"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-row",{attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticStyle:{display:"flex",justifyContent:"center","align-items":"center"},attrs:{span:"8"}},[n("Book",{attrs:{imgHeight:"135px",imgWidth:"105px",curBookInfo:t.recentReadBook,hasTitle:!1},nativeOn:{click:function(e){return t.toBookContent(e)}}})],1),n("van-col",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-around",padding:"10px 0"},attrs:{span:"14"}},[n("van-row",{staticClass:"ellipsis font18"},[t._v(t._s(t.recentReadBook.title))]),n("van-row",{staticClass:"ellipsis font14"},[t._v("作者："+t._s(t.recentReadBook.author))]),n("van-row",{staticClass:"ellipsis font12"},[t._v("进度："+t._s(t.recentReadBook.recentRead.title))]),n("van-row",{staticClass:"textElliplise2 font12 fontGrey "},[t._v(t._s(t.recentReadBook.desc))])],1)],1)}),j=[],I={props:{recentReadBook:{type:Object,default:function(){return{}}}},components:{Book:_},methods:{toBookContent:function(){this.$emit("click",this.recentReadBook)}}},F=I,L=Object(r["a"])(F,S,j,!1,null,null,null),B=L.exports,R=n("63ad"),N=n("2f62");function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A={components:{FictionEmpty:T,RecentRead:B,Book:_,InfoBar:R["default"]},data:function(){return{active:0}},computed:x({},Object(N["c"])(["collectedFiction"]),{hasCollection:function(){return!!this.collectedFiction&&!!this.collectedFiction.length},recentReadBook:function(){return this.collectedFiction[0]}}),methods:x({},Object(N["b"])(["sortCollected","setCurrentView"]),{readBook:function(t){var e=this;this.sortCollected(t),this.setCurrentView(x({},t,{isCollected:!0}));var n=setTimeout((function(){e.$router.push({name:"fiction_content",query:{link:t.recentRead.href,title:t.title}}),clearTimeout(n)}),400)},toSearch:function(){this.$router.push({name:"fiction_search"})}}),mounted:function(){console.log(this.collectedFiction)}},V=A,D=(n("0946"),Object(r["a"])(V,d,p,!1,null,"ec8c6080",null)),$=D.exports;o["a"].use(f["a"]);var H=[{path:"/",redirect:{name:"home"}},{path:"/v2_home",name:"home",component:$},{path:"/fiction",component:function(){return n.e("chunk-2d0b384d").then(n.bind(null,"295e"))},children:[{path:"search",name:"fiction_search",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-85c0fd98")]).then(n.bind(null,"5bb8"))}},{path:"home",name:"fiction_home",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-366a2982")]).then(n.bind(null,"d89b"))}},{path:"chapterList",name:"fiction_chapterList",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-f36215b0")]).then(n.bind(null,"1446"))}},{path:"content",name:"fiction_content",component:function(){return Promise.all([n.e("chunk-4e46372a"),n.e("chunk-13400d34")]).then(n.bind(null,"dd53"))}}]}],W=new f["a"]({routes:H}),M=W,U={collectedFiction:function(t){return t.fiction.collectedFiction},currentView:function(t){return t.fiction.currentView},hotSearchList:function(t){return t.fiction.hotSearchList},pageControl:function(t){return t.page.control}},z=U,J=(n("99af"),n("d81d"),n("fb6a"),n("2909")),q=n("267b"),G=n("dafe"),K=n("03ed"),Q=n("0278"),X=n("529a"),Y=n("d399");function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var et={state:{collectedFiction:q["a"].get("fiction_collected"),hotSearchList:q["a"].get("fiction_hotSearch"),currentView:q["a"].get("fiction_currentView")},mutations:{SET_FICTION_HOT_SEARCH:function(t,e){console.log("SET_FICTION_HOT_SEARCH"),t.hotSearchList=e,q["a"].set("fiction_hotSearch",t.hotSearchList)},DELETE_FICTION_COLLECT:function(t,e){Y["a"].success("删除小说成功"),t.collectedFiction=t.collectedFiction.filter((function(t){return t.title!==e})),q["a"].set("fiction_collected",t.collectedFiction)},INSERT_FICTION_COLLECT:function(t,e){console.log("INSERT_FICTION_COLLECT"),Object(G["b"])(t.collectedFiction)&&(t.collectedFiction=[]);var n=t.collectedFiction.every((function(t){return t.title!==e.title}));if(!n)return Y["a"].fail("书籍已收藏，请勿重复添加"),!1;t.collectedFiction.push(e),q["a"].set("fiction_collected",t.collectedFiction),Y["a"].success("加入书架成功")},UPDATE_FICTION_COLLECT:function(t,e){console.log("---UPDATE_FICTION_COLLECT---"),Object(G["b"])(t.collectedFiction)&&(t.collectedFiction=[]),t.collectedFiction=t.collectedFiction.map((function(t){return t.title==e.title&&(t=e),t})),q["a"].set("fiction_collected",t.collectedFiction)},SORT_FICTION_COLLECT:function(t,e){console.log("---SORT_FICTION_COLLECT---");var n=Object(K["a"])(Object(Q["a"])("title",e.title))(t.collectedFiction);console.log(n),t.collectedFiction=[].concat(Object(J["a"])(t.collectedFiction.slice(n,n+1)),Object(J["a"])(t.collectedFiction.slice(0,n)),Object(J["a"])(t.collectedFiction.slice(n+1))),q["a"].set("fiction_collected",tt({},t.collectedFiction,{isCollected:!0}))},SET_FICTION_VIEW:function(t,e){console.log("SET_FICTION_VIEW"),t.currentView=e,q["a"].set("fiction_currentView",t.currentView,"session")},SET_CURRENT_VIEW_FROM_COLLECTED:function(t,e){console.log("SET_CURRENT_VIEW_FROM_COLLECTED"),t.currentView=Object(X["a"])(Object(Q["a"])("title",e))(t.collectedFiction),q["a"].set("fiction_currentView",t.currentView,"session")}},actions:{setFictionHotSearch:function(t,e){var n=t.commit;n("SET_FICTION_HOT_SEARCH",e)},resetCollected:function(t,e){var n=t.commit;n("RESET_FICTION_COLLECT",e)},deleteCollected:function(t,e){var n=t.commit;n("DELETE_FICTION_COLLECT",e)},insertCollected:function(t,e){var n=t.commit;n("INSERT_FICTION_COLLECT",e)},updateCollected:function(t,e){var n=t.commit;n("UPDATE_FICTION_COLLECT",e)},sortCollected:function(t,e){var n=t.commit;n("SORT_FICTION_COLLECT",e)},setCurrentViewFromCollected:function(t,e){var n=t.commit;n("SET_CURRENT_VIEW_FROM_COLLECTED",e)},setCurrentView:function(t,e){var n=t.commit;n("SET_FICTION_VIEW",e)}}},nt=et,ot={fontSize:16,backgroundColor:"#dff9fb ",color:"rgb(45, 52, 54)",fontFamily:""},ct={state:{control:q["a"].get("pageControl",ot)},mutations:{SET_PAGE_CONTROL:function(t,e){console.log("SET PAGE_CONTROL"),t.control=e,q["a"].set("pageControl",t.control)}},actions:{setPageControl:function(t,e){var n=t.commit;n("SET_PAGE_CONTROL",e)}}},it=ct;o["a"].use(N["a"]);var rt=new N["a"].Store({state:{},mutations:{},getters:z,modules:{fiction:nt,page:it}}),at=(n("1f68"),n("b970"));n("157a");o["a"].use(at["a"]),o["a"].config.productionTip=!1,new o["a"]({router:M,store:rt,render:function(t){return t(l)}}).$mount("#app")},"63ad":function(t,e,n){"use strict";var o=n("098c"),c=n("e44d"),i=(n("ed5e"),n("2877")),r=Object(i["a"])(c["default"],o["a"],o["b"],!1,null,"3ea5d0d0",null);e["default"]=r.exports},8470:function(t,e,n){"use strict";var o=n("fa04"),c=n.n(o);c.a},"8bb2":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-row",{staticClass:"pd15 roundCorner row"},[t._t("default")],2)},c=[],i=n("2877"),r={},a=Object(i["a"])(r,o,c,!1,null,null,null);e["a"]=a.exports},c14e:function(t,e,n){},d8b9:function(t,e,n){"use strict";var o=n("dfcc"),c=n.n(o);c.a},dafe:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r}));n("99af"),n("fb6a"),n("ac1f"),n("466d");var o=n("2909");function c(t){if(t instanceof Array){if(0===t.length)return!0}else{if(!(t instanceof Object))return null==t||void 0===t||""===t;if("{}"===JSON.stringify(t))return!0}return!1}var i=function(t){return t.match(/(w+)(\.)([a-z]+)(\.)(com)/)[3]},r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n>=e.length?[e]:[e.slice(0,n)].concat(Object(o["a"])(t(e.slice(n),n)))}},dd22:function(t,e,n){},dfcc:function(t,e,n){},e44d:function(t,e,n){"use strict";var o=n("1793"),c=n.n(o);e["default"]=c.a},ed5e:function(t,e,n){"use strict";var o=n("dd22"),c=n.n(o);c.a},fa04:function(t,e,n){},fc5a:function(t,e,n){t.exports=n.p+"static/img/book-empty.d23e86c7.jpg"}});